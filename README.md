# 🐍 人机对战贪吃蛇

一个基于HTML5 Canvas和JavaScript开发的贪吃蛇对战游戏,支持三个不同难度的AI对手。

## ✨ 特性

- **人机对战**: 玩家vs AI的双蛇对战模式
- **三种难度**:
  - 🟢 简单: 随机移动策略,适合新手
  - 🟡 中等: A*寻路算法,会主动寻找食物
  - 🔴 困难: Minimax算法 + 启发式评估,极具挑战性
- **流畅体验**: 60FPS动画,响应式设计
- **智能AI**: 不同难度使用不同算法策略
- **完整UI**: 主菜单、暂停、游戏结束界面

## 🎮 游戏规则

### 控制方式
- **方向键** 或 **WASD**: 控制绿色蛇移动
- **空格键**: 暂停/继续游戏

### 胜负判定
1. **食物**: 吃到食物得10分,蛇身变长
2. **碰撞失败**: 撞墙、撞自己、撞对手身体则失败
3. **头对头碰撞**: 两条蛇头对头相撞时,较短的蛇获胜
4. **游戏结束**: 一方失败或双方都失败时游戏结束

## 🏗️ 项目结构

```
snakes/
├── index.html              # 游戏主页面
├── css/
│   └── style.css           # 全局样式
├── js/
│   ├── main.js             # 入口文件
│   ├── game/               # 游戏核心逻辑
│   │   ├── Game.js         # 游戏控制器
│   │   ├── Snake.js        # 蛇基类
│   │   ├── PlayerSnake.js  # 玩家蛇
│   │   ├── AISnake.js      # AI蛇
│   │   ├── Food.js         # 食物类
│   │   └── Collision.js    # 碰撞检测
│   └── ai/                 # AI算法
│       ├── EasyAI.js       # 简单AI
│       ├── MediumAI.js     # 中等AI (A*)
│       └── HardAI.js       # 困难AI (Minimax)
└── README.md
```

## 🤖 AI算法详解

### 简单AI (EasyAI)
- **策略**: 随机游走 + 基础避障
- **特点**:
  - 20%概率朝食物移动
  - 主要随机移动
  - 仅避免碰撞
  - 适合新手练习

### 中等AI (MediumAI)
- **策略**: A*寻路算法
- **特点**:
  - 使用A*算法规划最短路径
  - 动态避开障碍物
  - 考虑对手位置
  - 路径受阻时寻找安全空间

### 困难AI (HardAI)
- **策略**: Minimax算法 + 启发式评估
- **特点**:
  - 预测未来3步局面
  - 多因素评估(空间、食物、对手)
  - Alpha-Beta剪枝优化
  - 策略性截断对手
  - 高度智能,极具挑战

## 🚀 如何运行

### 方法1: 直接打开
1. 下载整个项目文件夹
2. 用浏览器打开 `index.html`
3. 选择难度开始游戏

### 方法2: 使用本地服务器(推荐)
```bash
# 使用Python启动服务器
python -m http.server 8000

# 或使用Node.js的http-server
npx http-server
```

然后访问 `http://localhost:8000`

## 🎯 开发技术

- **HTML5 Canvas**: 游戏渲染
- **原生JavaScript (ES6+)**: 游戏逻辑
- **CSS3**: UI样式和动画
- **A*算法**: 路径规划
- **Minimax算法**: 博弈决策

## 📊 游戏参数

- **网格大小**: 30 x 20
- **格子大小**: 25px
- **游戏速度**:
  - 简单: 150ms/帧
  - 中等: 100ms/帧
  - 困难: 80ms/帧

## 🔧 可扩展功能

以下功能可以作为后续扩展:

- [ ] 多地图选择
- [ ] 道具系统(加速、减速、无敌)
- [ ] 地图障碍物
- [ ] 音效和背景音乐
- [ ] 排行榜(本地存储)
- [ ] 移动端触摸控制
- [ ] AI思考路径可视化
- [ ] 游戏回放功能

## 📝 开发说明

### 添加新难度
1. 在 `js/ai/` 目录创建新的AI类
2. 实现 `getDirection()` 方法
3. 在 `Game.js` 的 `createAIController()` 中注册

### 修改游戏速度
编辑 `Game.js` 中的 `getGameSpeed()` 方法

### 调整AI难度
修改对应AI文件的算法参数:
- **EasyAI**: 调整朝食物移动的概率
- **MediumAI**: 调整搜索深度
- **HardAI**: 调整minimax深度和评估权重

## 🎨 自定义

### 修改颜色
编辑 `main.js` 中创建蛇时的颜色参数:
```javascript
// 玩家蛇颜色
'#4caf50'  // 绿色

// AI蛇颜色
'#f44336'  // 红色
```

### 修改网格大小
编辑 `Game.js` 构造函数中的参数:
```javascript
this.gridWidth = 30;   // 宽度
this.gridHeight = 20;  // 高度
this.cellSize = 25;    // 格子大小
```

## 🐛 已知问题

- 在极少数情况下,困难AI可能计算时间较长
- 移动端暂不支持触摸控制

## 📄 许可证

MIT License - 自由使用和修改

## 🙏 致谢

感谢所有为这个项目提供帮助的人!

---

**享受游戏!** 🎮

如有问题或建议,欢迎提出!
